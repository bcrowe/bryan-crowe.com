<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>CakePHP 3.0 Flash Messages</title>
        <meta name="viewport" content="width=device-width">
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/style.css">
    </head>
    <body>
      
        <video id="bkg-video" class="blur" preload="auto" autoplay="true" loop="loop" muted="muted" volume="0">
          <source src="/videos/drink-bw.mp4">
          <source src="/videos/drink-bw.webm">
        </video>
      
      <div class="container">
        <div class="row">
          <div id="sidebar" class="col-md-3">
            <div class="affix">
              <h1 id="my-name"><a href="/">BRYAN<span class="last-name">CROWE</span></a></h1>
              <div id="external-links">
                <a href="//github.com/bcrowe" target="_blank">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-github fa-stack-2x"></i>
                  </span>
                </a>
                <a href="//twitter.com/_beakman" target="_blank">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
                <a href="mailto:bryan@bryan-crowe.com">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </div>
              <p>
                Bryan Crowe is a beer-drinking open source developer living in Pittsburgh, PA. He is involved in the <a class="text-link" href="http://www.cakephp.org" target="_blank">CakePHP</a> framework.
              </p>
            </div>
          </div>
          <div class="col-md-9">
            <article class="post">
<h2 class="post-title">CakePHP 3.0 Flash Messages</h2>
<time class="post-time">June 22, 2014</p>

<p>Recently, I&#39;ve had the pleasure of writing the <code>FlashComponent</code> and <code>FlashHelper</code> for the upcoming CakePHP 3.0 release - with some help from some code, ideas, and discussion made in another pull request. In this post, I&#39;ll be explaining the rationale behind some of the decisions that were collectively made around flash messages.</p>

<h2>1) Flash Methods Removed From Session Classes</h2>

<p>Previously, the methods that dealt with flash messages were located within the session classes: <code>Session</code>, <code>SessionComponent</code>, and <code>SessionHelper</code>. While the concept of a flash message does indeed involve the session - the logic behind setting, destroying, and rendering flash messages should not be a concern of a session-related class, thus the <code>FlashComponent</code> and <code>FlashHelper</code> classes were born. </p>

<h2>2) Always Use Elements</h2>

<p>In previous versions of CakePHP, <code>SessionHelper::flash()</code> rendered the flash message output.  By default, if no element was supplied, it would generate some HTML for you right within the <code>SessionHelper::flash()</code> method.  Instead of doing this, CakePHP&#39;s App template now comes with a couple flash elements that can be used out-of-the-box with <code>FlashHelper::render()</code>. These elements are found under the <code>src/Template/Element/Flash</code> directory.</p>

<h2>3) Added Verbosity</h2>

<p>The <code>FlashComponent</code> has a <code>__call</code> magic method, which allows you to map the method name to an element name found under the <code>src/Template/Element/Flash</code> directory. In a Controller, the following code would use the <code>info.ctp</code> element to render your flash message:</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">Flash</span><span class="o">-&gt;</span><span class="na">info</span><span class="p">(</span><span class="s1">&#39;Your information was successfully updated.&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>

<p>This simply offers a way to make your code more expressive.</p>

<p>For more information on how to use <code>FlashComponent</code> and <code>FlashHelper</code>, check out the <a href="http://book.cakephp.org/3.0/en/core-libraries/components/flash.html">FlashComponent</a> and <a href="http://book.cakephp.org/3.0/en/core-libraries/helpers/flash.html">FlashHelper</a> sections of the 3.0 documentation.</p>

</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'bryancrowe'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

          </div>
        </div>
      </div>
      <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
      <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-46695861-1', 'bryan-crowe.com');
        ga('send', 'pageview');

      </script>
    </body>
</html>
